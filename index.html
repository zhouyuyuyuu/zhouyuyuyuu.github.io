<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/checker.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/checker-32x32.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/checker-16x16.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhouyuyuyuu.github.io","root":"/","images":"/images","scheme":"Pisces","version":"8.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta property="og:type" content="website">
<meta property="og:title" content="yuu&#39;s Blog">
<meta property="og:url" content="https://zhouyuyuyuu.github.io/index.html">
<meta property="og:site_name" content="yuu&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="zhouyuyuyuu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://zhouyuyuyuu.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>yuu's Blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">yuu's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-踩坑记录"><a href="/categories/daily-record/" rel="section"><i class="fa fa-bath fa-fw"></i>踩坑记录</a></li>
        <li class="menu-item menu-item-如有疑问请看原文的翻译-🌝"><a href="/categories/translation/" rel="section"><i class="fa fa-volume-off fa-fw"></i>如有疑问请看原文的翻译 🌝</a></li>
        <li class="menu-item menu-item-杂记"><a href="/categories/other/" rel="section"><i class="fa fa-bed fa-fw"></i>杂记</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-文章"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>文章</a></li>
        <li class="menu-item menu-item-联系我"><a href="/about/" rel="section"><i class="fa fa-comments fa-fw"></i>联系我</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zhouyuyuyuu"
      src="/images/eeeem.jpeg">
  <p class="site-author-name" itemprop="name">zhouyuyuyuu</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="mailto:izhouyi7@gmail.com" title="E-Mail → mailto:izhouyi7@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zhouyuyuyuu.github.io/2021/11/04/perfect-square/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/eeeem.jpeg">
      <meta itemprop="name" content="zhouyuyuyuu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yuu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/11/04/perfect-square/" class="post-title-link" itemprop="url">leetcode - 367. 有效的完全平方数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-11-04 11:49:04 / 修改时间：17:59:14" itemprop="dateCreated datePublished" datetime="2021-11-04T11:49:04+08:00">2021-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>leetcode小白看到今天的每日一题难度是<code>简单</code>，心想可以一试☺️ 。然而十分钟过后，依然思绪混乱，没想出任何解法。忍不住直奔官方题解，一看解法中存在很常见的思路，不由自主的想为什么自己没想到呢，为什么完全没往这方向想呢。题目是这样的：</p>
<blockquote>
<p>给定一个 正整数 num ，编写一个函数，如果 num 是一个完全平方数，则返回 true ，否则返回 false 。</p>
<p>进阶：不要 使用任何内置的库函数，如  sqrt 。</p>
<p>示例 1：</p>
<p>输入：num = 16<br>输出：true</p>
<p>示例 2：</p>
<p>输入：num = 14<br>输出：false</p>
<p>提示：</p>
<pre><code>1 &lt;= num &lt;= 2^31 - 1
</code></pre>
<p>来源：力扣（LeetCode）<br>链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-perfect-square">https://leetcode-cn.com/problems/valid-perfect-square</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<p>完全平方数的维基百科解释如下：</p>
<blockquote>
<p>数学上，平方数，或称完全平方数，是指可以写成某个整数的平方的数，即其平方根为整数的数。例如，9 = 3 × 3，它是一个平方数。</p>
</blockquote>
<p>我的思绪彻底被困住，完全想不到该如何判断一个数是不是完全平方数。尤其看到提示中的<code>sqrt</code>后，满脑子都在想怎么开平方 😖。其实这道题目并不需要开平方，而且题中<strong>有限定输入值<code>num</code>的取值范围</strong>。所以可以在有限的范围内，通过遍历整数来寻找输入值是否为某个整数的平方。</p>
<p>题目中给定<code>num</code>的范围是<code>1 &lt;= num &lt;= 2^31 - 1</code>。假设<code>num</code>是<code>完全平方数</code>，那么会存在一个整数<code>x</code>满足<code>num = x * x</code>且<code>x &lt;= num</code>。由此，我们可以把题目转换为<code>[1, num]</code>中是否存在一个整数<code>x</code>满足<code>num = x * x</code>。</p>
<h4 id="暴力法"><a href="#暴力法" class="headerlink" title="暴力法"></a>暴力法</h4><p>直接从<code>1</code>开始，逐个遍历正整数，看是否存在一个整数<code>x</code>满足<code>num = x * x</code>，遍历结束的条件为<code>x * x &gt; num</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isPerfectSquare = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>, square = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (square &lt;= num) &#123;</span><br><span class="line">        <span class="keyword">if</span> (square == num) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        x++;</span><br><span class="line">        square = x * x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>时间复杂度为O($\sqrt{n}$)<br>空间复杂度为O(1)</p>
<h4 id="二分法"><a href="#二分法" class="headerlink" title="二分法"></a>二分法</h4><p>在可能的正整数范围<code>1 ~ num</code>中寻找满足<code>num = x * x</code>的整数<code>x</code>，<code>1 ~ num</code>是递增的，因此可以使用二分查找。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isPerfectSquare = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> left = <span class="number">1</span>, right = num;</span><br><span class="line">  <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">      <span class="keyword">var</span> middle = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">var</span> square = middle * middle;</span><br><span class="line">      <span class="keyword">if</span> (square === num) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (square &gt; num) &#123;</span><br><span class="line">          right = middle - <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          left =  middle + <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度为O(logn)<br>空间复杂度为O(1)</p>
<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-perfect-square/solution/you-xiao-de-wan-quan-ping-fang-shu-by-le-wkee/">官方题解</a>中还有<code>牛顿迭代法</code>，不过这个解法实在是看不太懂😕</p>
<p>虽然这道题只是leetcode上平平无奇的一道，也是一堆把我卡住的“简单”题中的一个，不过还是有get到一丢丢做题小心得。首先看到<code>平方数</code>时，这道题就在心理上把我打败了；其次，没有把给定的输入值范围当回事让我在想解法时更加没有头绪；当然，还有客观原因是久久不看leetcode，更生疏了。所以做题的小小心得是：首先尽量不要慌，其次不要忽略题目中给定的取值范围，最后题目做多了见过的题多了自然会思路广些想法多些🙊 。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zhouyuyuyuu.github.io/2021/10/20/no-scoped/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/eeeem.jpeg">
      <meta itemprop="name" content="zhouyuyuyuu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yuu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/20/no-scoped/" class="post-title-link" itemprop="url">一个样式bug - 写在组件中的全局样式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-20 18:12:25" itemprop="dateCreated datePublished" datetime="2021-10-20T18:12:25+08:00">2021-10-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-11-03 20:03:28" itemprop="dateModified" datetime="2021-11-03T20:03:28+08:00">2021-11-03</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/daily-record/" itemprop="url" rel="index"><span itemprop="name">踩坑记录</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>事情源于测试早上给提的一个bug，bug是这样的：在一个表单里，新添加的一个inputA输入框明显比其他输入框长出一截（内心：改个长度的事，小问题😁 ）<br>但我在本地运行环境反复确认，本地运行打开的页面，表单中所有的输入框长度<strong>都一致</strong>，而且左右都是对齐的，即使输入超长的内容，输入框长度依然不会改变。但测试环境上查看这个表单，的的确确inputA输入框长出一截。<br>ps: 文中的应用是使用vue全家桶搭建的单页应用</p>
<p><img src="/images/meme/not-simple.jpeg" alt="avatar" title="事情并不简单"></p>
<h4 id="定位问题"><a href="#定位问题" class="headerlink" title="定位问题"></a>定位问题</h4><p>本地运行页面与打包部署后的测试环境页面表现不同，猜测是开发模式与生产模式打包策略不同引起。既然是样式的问题，直接查看样式当然来的最直观。分别检查样式后发现：</p>
<ul>
<li>本地与测试环境inputA输入框都<strong>单独固定</strong>设置了<code>600px</code>的宽度；</li>
<li>本地运行环境页面：样式中存在<strong>三个</strong>相同的选择器<code>.custom-input .el-input__inner</code>，分别设置了宽度<code>400px</code>、<code>500px</code>、<code>600px</code>，该选择器应用到表单中所有的输入框。长度为<code>600px</code>的样式被采用，<code>400px</code>及<code>500px</code>被覆盖，此时输入框长度都是<code>600px</code>。表现为所有输入框长度一致，且左右均对齐;</li>
<li>测试环境页面：只存在<strong>一个</strong>选择器<code>.custom-input .el-input__inner</code>，设置了所有输入框的宽度，宽度值为<code>400px</code>；此时inputA输入框宽度为<code>600px</code>，其它输入框宽度为<code>400px</code>。表现为inputA输入框长出一截；</li>
</ul>
<p>所以本地环境跟测试环境表现不同的原因是<strong>本地环境出现了样式覆盖</strong>。</p>
<h4 id="修复问题"><a href="#修复问题" class="headerlink" title="修复问题"></a>修复问题</h4><p>回到代码里全局搜一番选择器<code>.custom-input .el-input__inner</code>，发现在<strong>三个不同的</strong>表单组件里，分别<strong>全局</strong>设置了选择器<code>.custom-input .el-input__inner</code>样式，宽度分别为<code>400px</code>、<code>500px</code>、<code>600px</code>。</p>
<p>ps: 组件中直接放在<code>&lt;style&gt;&lt;/style&gt;</code>中的样式为全局样式，放在<code>&lt;style scoped&gt;&lt;/style&gt;</code>中的样式为本地样式，像这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">/* 全局样式 */</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/* 本地样式 */</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>猜测在<strong>开发模式</strong>下运行时，应用中的<strong>所有文件一次性加载</strong>，所以三个全局<code>.custom-input .el-input__inner</code><strong>同时</strong>被应用，并且其中两个被第三个覆盖；而测试环境也就是<strong>生产模式</strong>下运行时，每初次访问一个页面才去加载页面对应的样式文件与js文件，因此<strong>刷新后首次访问</strong>的页面的表单样式会是当前表单组件中的全局<code>.custom-input .el-input__inner</code>样式，若此时再访问另一个表单所在的页面，则前一个页面中的表单样式会被后续表单样式覆盖！</p>
<p>尝试在测试环境中按照不同顺序访问这三个不同的表单组件所在的页面（每个页面只有一个表单组件），表现跟预期一致。每初次打开一个不同的表单页面，全局样式中就会多出一个<code>.custom-input .el-input__inner</code>样式，并且覆盖之前的全局<code>.custom-input .el-input__inner</code>样式。</p>
<p>至此，<code>.custom-input .el-input__inner</code>这三个全局样式其实并非需要应用到全局，修改方式自然是将全局样式调整为本地样式。</p>
<p>不过，在此之前虽然知道存在<code>全局样式</code>跟<code>本地样式</code>，但日常工作里的<code>全局样式</code>基本写在全局的样式表中，对于写在组件里的全局样式了解的少，这个遗留bug反倒给我上了一课。从这个bug中可以看出，如果组件并没有被打包到公共模块，比如打包在某个页面模块中，那么只有这个页面被打开，页面模块被加载，组件中的全局样式才添加到全局。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zhouyuyuyuu.github.io/2021/10/15/hexo-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/eeeem.jpeg">
      <meta itemprop="name" content="zhouyuyuyuu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yuu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/15/hexo-command/" class="post-title-link" itemprop="url">hexo写博客的一些命令与插入图片、公式的方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-15 18:27:23" itemprop="dateCreated datePublished" datetime="2021-10-15T18:27:23+08:00">2021-10-15</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-11-04 18:50:29" itemprop="dateModified" datetime="2021-11-04T18:50:29+08:00">2021-11-04</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/other/" itemprop="url" rel="index"><span itemprop="name">杂记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>记录一些hexo命令，免得下次想起写博客的时候忘记操作。</p>
<h4 id="新建一篇文章"><a href="#新建一篇文章" class="headerlink" title="新建一篇文章"></a>新建一篇文章</h4><p>以新建一篇名为<code>hexo-command</code>的文章为例。<br>语法： hexo new &lt;模板&gt; &lt;文章名&gt;， 示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post hexo-command</span><br></pre></td></tr></table></figure>
<p>一般没有使用特殊模板的话都可以用<code>hexo new post &lt;文章名&gt;</code>来创建一篇文章，创建的文件可以在<code>source/_posts/</code>目录下找到。使用这个命令创建的文章，实际新建的md文件命名会遵照<code>_config.yml</code>文件中的<code>new_post_name</code>配置项，并不一定与<code>&lt;文章名&gt;</code>一模一样，而文章标题会与输入的<code>&lt;文章名&gt;</code>相同。</p>
<p>创建文章成功后，在<code>source/_posts/</code>目录下找到文件，就可以在这个文件里开始写博客啦。</p>
<h4 id="新增一个NexT菜单项"><a href="#新增一个NexT菜单项" class="headerlink" title="新增一个NexT菜单项"></a>新增一个NexT菜单项</h4><p>以新建一个叫做<code>关于我</code>的菜单项为例：在<code>_config.next.yml</code>文件的<code>menu</code>项下增加下面的<code>关于我</code>配置(<code>_config.next.yml</code>文件来源可参考<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/configuration.html?highlight=config.next">NexT主题 Configuration文档</a>。)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">    关于我: /about/ || fa fa-comments</span><br></pre></td></tr></table></figure>
<p><code>menu</code>下方未被注释的条目对应着NexT主题侧边的菜单栏，上下顺序也与菜单栏一致。<br><code>关于我: /about/ || fa fa-comments</code>中<code>关于我</code>是会显示在侧边栏的菜单标题；<code>/about/</code>是指点击这个菜单项会跳转的路径；<code>fa fa-comments</code>对应菜单标题前的图标，NexT主题的图标是使用Font Awesome库，可以自行去Font Awesome库里找些适合图标，不过并不是库里的所有的图标都可用（<del>或许是因为版本问题，不确定</del>）。</p>
<p>如果菜单跳转路径并不是博客中原本已有的路径，那这时还需要新建一个页面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page --path about/index &quot;About me&quot;</span><br></pre></td></tr></table></figure>
<p>这个命令语法是：<code>hexo new [layout] &lt;title&gt;</code>。其中<code>[layout]</code>无特殊要求的话都可以直接使用<code>page</code>。<code>hexo new page --path about/index &quot;About me&quot;</code>中<code>--path</code>后面跟的<code>about/index</code>指的就是页面的路径，可以与上面菜单路径配置的<code>/about/</code>匹配上，<code>&quot;About me&quot;</code>指的是页面标题，此时<strong>必须要填写页面标题</strong>，否则新建的不是页面，而会是一篇标题为“page”的默认layout的新博客。<br>新建的页面文件可以在<code>source</code>目录下根据配置的路径找到，此例的路径即为<code>source/about/index.md</code>。编辑<code>source/about/index.md</code>的内容，会体现在新页面上。</p>
<h4 id="在NexT主题下给博客内容添加数学公式"><a href="#在NexT主题下给博客内容添加数学公式" class="headerlink" title="在NexT主题下给博客内容添加数学公式"></a>在NexT主题下给博客内容添加数学公式</h4><p>第一步：首先需要在<code>_config.next.yml</code>文件中搜索找到<code>mathjax</code>，并将<code>mathjax</code>的<code>enable</code>改为<code>true</code>。像这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">every_page: false</span><br><span class="line"></span><br><span class="line">mathjax:</span><br><span class="line">  enable: true</span><br><span class="line">  # Available values: none | ams | all</span><br><span class="line">  tags: none</span><br></pre></td></tr></table></figure>
<p>第二步：然后需要安装MathJax 引擎，像这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-renderer-pandoc</span><br></pre></td></tr></table></figure>
<p>第三步：最后在具体的某篇博客也就是<code>md文件</code>中的开头加入<code>mathjax: true</code>，像这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: leetcode - 367. 有效的完全平方数</span><br><span class="line">date: 2021-11-04 11:49:04</span><br><span class="line">mathjax: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>经过以上三步的配置，就可以在当前博客文章中编写公式啦！</p>
<ul>
<li>行内公式：\$数学公式\$，例如： md文档中编写\$a \over b\$，页面上会显示$a \over b$</li>
<li>独立公式：\$\$数学公式\$\$，例如： md文档中编写\$\$a \over b\$\$，页面上会显示$$a \over b$$</li>
</ul>
<h4 id="给博客添加图片"><a href="#给博客添加图片" class="headerlink" title="给博客添加图片"></a>给博客添加图片</h4><p>下载的图片可以放在<code>source/images/</code>目录下，也可以在<code>source/images/</code>目录下新建目录存放。在博客中可以通过形如<code>![我的图片](/images/myDir/xxx.jpeg)</code>的方式来引入图片。</p>
<h4 id="给博客文章添加分类或标签"><a href="#给博客文章添加分类或标签" class="headerlink" title="给博客文章添加分类或标签"></a>给博客文章添加分类或标签</h4><p>分类与标签一般在新建博客时<code>[layout]</code>模板中会带有。一般放在博客文件的开头，也就是<code>.md</code>文件的开头，形如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">title: 标题 // 博客标题</span><br><span class="line">date: 2021-10-15 18:27:23 // 创建时间</span><br><span class="line">tags: [hexo-NexT] // 标签</span><br><span class="line">categories: // 分类</span><br><span class="line">- 杂记</span><br></pre></td></tr></table></figure>
<p>其中<code>tags</code>用于配置当前文章的标签，<code>categories</code>用于配置当前文章的分类。<code>tags</code>跟<code>categories</code>都可以使用数组来设置值，也可以使用以下方式来设置值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tags:</span><br><span class="line">- js</span><br><span class="line">- regexp</span><br></pre></td></tr></table></figure>
<p>ps: 给文章添加了分类跟标签后，可以通过<code>https://username.github.io/tags/xxx/</code>来查看带有<code>xxx</code>标签的文章列表，或通过<code>https://username.github.io/categories/xxx/</code>来查看属于<code>xxx</code>分类的文章列表，也就是说对应的标签或分类下会自动新建一个页面，页面内容是存在该标签或者属于该分类的文章列表。</p>
<p>ps: 标签跟分类常常会使用到中文，如果不希望访问<code>/tag/xxx</code>或<code>/categories/xxx</code>时页面路径中带有中文，可以去<code>_config.yml</code>文件中配置<code>tag_map</code>以及<code>category_map</code>项，配置方式形如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tag_map:</span><br><span class="line">  正则表达式: regexp</span><br><span class="line">  算法: algorithm</span><br></pre></td></tr></table></figure>

<h4 id="在本地查看博客效果"><a href="#在本地查看博客效果" class="headerlink" title="在本地查看博客效果"></a>在本地查看博客效果</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>

<h4 id="更新线上博客"><a href="#更新线上博客" class="headerlink" title="更新线上博客"></a>更新线上博客</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean // 清除缓存文件和已生成的静态文件</span><br><span class="line">hexo generate // 生成静态文件</span><br><span class="line">hexo deploy // 部署网站</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zhouyuyuyuu.github.io/2021/10/15/reg-quantifier/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/eeeem.jpeg">
      <meta itemprop="name" content="zhouyuyuyuu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yuu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/15/reg-quantifier/" class="post-title-link" itemprop="url">正则表达式中的*?以及修饰符m</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-15 18:26:58" itemprop="dateCreated datePublished" datetime="2021-10-15T18:26:58+08:00">2021-10-15</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-11-03 16:41:29" itemprop="dateModified" datetime="2021-11-03T16:41:29+08:00">2021-11-03</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/other/" itemprop="url" rel="index"><span itemprop="name">杂记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>写业务逻辑的某天，偶然间看到一个正则表达式 <code>var literal = /\[([^]*?)\]/gm;</code>。乍一看没看懂，再一看还是没看懂。</p>
<p>从左向右挨个仔细读了一遍，我的内心：</p>
<ul>
<li><code>\[</code>转义字符，匹配字符左中括号<code>[</code>；</li>
<li><code>(</code>表示捕获，不匹配任何字符；</li>
<li><strong>疑问一：</strong><code>[^]</code>应该是否定字符组，不过为什么里头啥也没有呢？ 😕</li>
<li><strong>疑问二：</strong><code>*</code>是量词，表示可以匹配0个或者无数个；<code>?</code>也是量词，表示匹配0个或者1个；为什么两个量词可以放一起？ 😕</li>
<li><code>)</code>与前面的<code>(</code>凑成一对小括号，表示捕获，不匹配任何字符；</li>
<li><code>\]</code>转义字符，匹配字符右中括号<code>]</code>；</li>
<li><code>g</code>修饰符表示进行全局匹配；<strong>疑问三：</strong><code>m</code>修饰符是干嘛的来着，死活想不起来了 😕</li>
</ul>
<h3 id="否定字符组"><a href="#否定字符组" class="headerlink" title="否定字符组 - [^]"></a>否定字符组 - [^]</h3><p>正则表达式中的否定字符组是用来匹配<strong>任何不在否定字符组内的字符</strong>，比如：<code>var reg = /[^aeiou]/</code>就表示匹配除了<code>a</code>, <code>e</code>, <code>i</code>, <code>o</code>, <code>u</code>之外的任何字符。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var reg = /[^aeiou]/;</span><br><span class="line"></span><br><span class="line">// u包含在否定字符组内，不匹配</span><br><span class="line">reg.test(&#x27;u&#x27;); // false</span><br><span class="line">// g不包含在否定字符组内，匹配</span><br><span class="line">reg.test(&#x27;g&#x27;); // true</span><br></pre></td></tr></table></figure>
<p>对于<code>[^]</code>的猜测：首先它是一个否定字符组，但这个否定字符组中不包含任何字符，所以<strong>猜测<code>[^]</code>可以匹配任何字符</strong>。试试看：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var reg = /^[^]+$/;</span><br><span class="line">// 包含部分特殊字符以及\n换行符的字符串</span><br><span class="line">var str = `~、+][!😕 @</span><br><span class="line">#$%^6……(**&amp;|    ￥`;</span><br><span class="line"></span><br><span class="line">str.match(reg); // 返回数组中的匹配值：&#x27;~、+][!😕 @\n#$%^6……(**&amp;|    ￥&#x27;，意味着整个str字符串均被匹配</span><br></pre></td></tr></table></figure>
<p>ps： <code>.</code>常常用来匹配任意字符，但<code>.</code><strong>不能匹配换行符\n</strong>。</p>
<h3 id="懒惰模式-非贪婪模式"><a href="#懒惰模式-非贪婪模式" class="headerlink" title="懒惰模式/非贪婪模式 - *?"></a>懒惰模式/非贪婪模式 - *?</h3><p>对于<code>*</code>跟<code>?</code>相信大家都不陌生，但是它两组合在一起出现的<code>*?</code>，我真是孤陋寡闻，从没见过。搜索一番后记录一下：<br><code>*?</code>中的<code>*</code>仍然是一个量词，表示匹配0次或者无数次；而<code>*?</code>中的<code>?</code>此时并不是一个量词，而是将前面的量词<code>*</code>变成懒惰模式，让<code>*</code>尽可能匹配更少的字符！单独的<code>*</code>总是会尽可能匹配更多的字符（贪婪），而添加了<code>?</code>的<code>*?</code>则会尽可能匹配更少的字符（懒惰）。试试看：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 懒惰模式 *?</span><br><span class="line">var reg1 = /\[([^]*?)\]/;</span><br><span class="line">// 贪婪模式 *</span><br><span class="line">var reg2 = /\[([^]*)\]/;</span><br><span class="line">var str = &#x27;[][0][\\d][\\w]&#x27;;</span><br><span class="line"></span><br><span class="line">str.match(reg1); // [&#x27;[]&#x27;, &#x27;&#x27;, index: 0, ...] 懒惰模式下仅匹配到str的首个[]，捕获到的字符串为空&#x27;&#x27;</span><br><span class="line">str.match(reg2); // [&#x27;[][0][\d][\w]&#x27;, &#x27;][0][\d][\w&#x27;, index: 0, ...] 贪婪模式下匹配了一整个str，捕获到的字符串为&#x27;][0][\d][\w&#x27;</span><br></pre></td></tr></table></figure>
<p>将<code>*?</code>中的量词<code>*</code>替换成量词<code>+</code>也是可以的，<code>+</code>表示匹配至少1次或者无数次，但<code>+?</code>也是尽可能匹配更少的字符（懒惰模式）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 懒惰模式</span><br><span class="line">var reg1 = /b\w+?/;</span><br><span class="line">// 贪婪模式</span><br><span class="line">var reg2 = /b\w+/;</span><br><span class="line">var str = &#x27;beer&#x27;;</span><br><span class="line"></span><br><span class="line">str.match(reg1); // [&#x27;be&#x27;, index: 0, ...] 懒惰模式</span><br><span class="line">str.match(reg2); // [&#x27;beer&#x27;, index: 0, ...] 贪婪模式</span><br></pre></td></tr></table></figure>
<h3 id="用于多行匹配的修饰符m"><a href="#用于多行匹配的修饰符m" class="headerlink" title="用于多行匹配的修饰符m"></a>用于多行匹配的修饰符m</h3><p>修饰符<code>m</code>表示Multiline，也就是多行匹配。修饰符<code>m</code>会使匹配开始位置的<code>^</code>以及匹配结束位置的<code>$</code>去匹配每一行的开始位置与结束位置，而不是整个字符串的开始位置与结束位置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 多行匹配</span><br><span class="line">var reg1 = /^\[([^]*?)\]$/m;</span><br><span class="line">// 普通匹配</span><br><span class="line">var reg2 = /^\[([^]*?)\]$/;</span><br><span class="line">// 多行文本</span><br><span class="line">var str = `[first line]</span><br><span class="line">[second line]</span><br><span class="line">[\\d]</span><br><span class="line">[\\w]`;</span><br><span class="line"></span><br><span class="line">str.match(reg1); //  [&#x27;[first line]&#x27;, &#x27;first line&#x27;, index: 0, ...] 多行匹配成功匹配第一行</span><br><span class="line">str.match(reg2); // [&#x27;[first line]\n[second line]\n[\d]\n[\w]&#x27;, &#x27;first line]\n[second line]\n[\d]\n[\w&#x27;, index: 0, ...] 普通匹配成功匹配整个str字符串</span><br></pre></td></tr></table></figure>


<p>回到一开始的正则表达式<code>var literal = /\[([^]*?)\]/gm;</code></p>
<ul>
<li>疑问一：<code>[^]</code>匹配任意字符；</li>
<li>疑问二：<code>*?</code>表示匹配0个或无数个，但会尽可能匹配更少的字符；</li>
<li>疑问三：修饰符m是指多行匹配；</li>
</ul>
<p>所以，这个正则表达式可以用来匹配形如<code>[!@#XX]</code>，<code>[^\d\s]</code>，<code>[\w+]</code>这样的字符串，并且会对多行文本进行全局匹配（此时正则表达式中并没有匹配起始位置的<code>^</code>与匹配结束位置的<code>$</code>，所以我想修饰符<code>m</code>在这里其实并没有起作用）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var literal = /\[([^]*?)\]/gm;</span><br><span class="line">var str = `[!@#XX]</span><br><span class="line">\\d\\d:\\d\\d:\\d\\d [^\\d\\s]</span><br><span class="line">[\\w+][</span><br><span class="line">]</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">str.match(literal); //  [&#x27;[!@#XX]&#x27;, &#x27;[^\d\s]&#x27;, &#x27;[\w+]&#x27;, &#x27;[\n]&#x27;]</span><br></pre></td></tr></table></figure>
<br/>

<p>正则表达式的来源：<a target="_blank" rel="noopener" href="https://github.com/ElemeFE/element/blob/dev/src/utils/date.js">https://github.com/ElemeFE/element/blob/dev/src/utils/date.js</a><br>一个辅助理解正则表达式的网站👍 ：<a target="_blank" rel="noopener" href="https://regexr.com/">https://regexr.com/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zhouyuyuyuu.github.io/2021/09/22/nextT-style-customization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/eeeem.jpeg">
      <meta itemprop="name" content="zhouyuyuyuu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yuu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/22/nextT-style-customization/" class="post-title-link" itemprop="url">配置NexT主题样式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-22 17:49:01" itemprop="dateCreated datePublished" datetime="2021-09-22T17:49:01+08:00">2021-09-22</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-11-03 16:41:29" itemprop="dateModified" datetime="2021-11-03T16:41:29+08:00">2021-11-03</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/other/" itemprop="url" rel="index"><span itemprop="name">杂记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文通过修改_config.next.yml文件中的配置项，来配置NexT主题的样式。如果不是使用_config.next.yml，下面的方法不一定有效。<br>顺便一提，_config.next.yml是配置NexT主题的其中一种方式，适用于Hexo 5.0及其后的hexo版本。如果你想了解_config.next.yml从何而来，可以参考<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/configuration.html?highlight=config.next">NexT主题 Configuration文档</a>。</p>
<h4 id="设置NexT主题字体大小"><a href="#设置NexT主题字体大小" class="headerlink" title="设置NexT主题字体大小"></a>设置NexT主题字体大小</h4><p>开始写第一篇博客时发现NexT主题post内容的字体有点大，我怎么看都希望字体能小一点。于是在_config.next.yml中盲搜font，还真有。在修改了_config.next.yml以下配置并重新运行<code>hexo server</code>后，发现这个配置并没有起效。<del>白高兴一场🙃</del></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">font:</span><br><span class="line">  enable: true</span><br><span class="line"></span><br><span class="line">  # Uri of fonts host, e.g. https://fonts.googleapis.com (Default).</span><br><span class="line">  host:</span><br><span class="line"></span><br><span class="line">  # Font options:</span><br><span class="line">  # `external: true` will load this font family from `host` above.</span><br><span class="line">  # `family: Times New Roman`. Without any quotes.</span><br><span class="line">  # `size: x.x`. Use `em` as unit. Default: 1 (16px)</span><br><span class="line"></span><br><span class="line">  # Global font settings used for all elements inside &lt;body&gt;.</span><br><span class="line">  global:</span><br><span class="line">    external: true</span><br><span class="line">    family: Monda</span><br><span class="line">    size: 1.125</span><br><span class="line"></span><br><span class="line">  # Font settings for site title (.site-title).</span><br><span class="line">  title:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).</span><br><span class="line">  headings:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for posts (.post-body).</span><br><span class="line">  posts:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size: 0.875</span><br><span class="line"></span><br><span class="line">  # Font settings for &lt;code&gt; and code blocks.</span><br><span class="line">  codes:</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br><span class="line">    size: 0.875</span><br></pre></td></tr></table></figure>
<p><font color=red>上述配置并无效果！！！</font><br>在NexT主题文档中搜索font后，找到了<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/theme-settings/miscellaneous.html">Fonts Customization</a>模块（文档里的第10点）。Fonts Customization开始提到的就是我前边尝试无效的配置方式（如果你知道怎么让这配置起效，欢迎<a href="mailto:izhouyi7@gmail.com">告知我</a>），不过后续又提到了另一种配置方式 ———— 通过<code>source/_data/variables.styl</code>来进行配置。<br>步骤可以归结为：</p>
<ol>
<li>在博客根目录下的source目录新建一个<code>_data</code>文件夹，如果你已经有_data文件夹了则不用新建;</li>
<li>在_data文件夹下新建<code>variables.styl</code>文件，如果你已经有variables.styl文件了则不用新建;</li>
<li>在variables.styl文件中设置css变量的值，如文章的字体大小<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Font size of articles.</span><br><span class="line">$font-size-base = 16px</span><br></pre></td></tr></table></figure></li>
<li>去<code>_config.next.yml</code>文件找到<code>custom_file_path</code>，并给<code>custom_file_path</code>模块下的<code>variable</code>解开注释</li>
</ol>
<p>保存修改并再次hexo server时，就看到文章的字变小啦。但是，侧边的导航栏字号变得更小了⁉️<br>在页面检查样式，再去node_modules/hexo-theme-next/source/css中搜寻一番后发现，侧边栏的字号是变量<code>$font-size-smaller</code>。于是在<code>source/_data/variables.styl</code>中配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// Font size of articles.</span><br><span class="line">$font-size-base = 14px</span><br><span class="line">$font-size-smaller = 14px</span><br></pre></td></tr></table></figure>
<p>此时，侧边栏文字的字号与配置前保持一致，为14px；文章内容字号由配置前的16px(1em)，调整为配置后的14px；<br>文章内容的字号就这样变小啦😁。</p>
<h4 id="设置NexT主题链接样式"><a href="#设置NexT主题链接样式" class="headerlink" title="设置NexT主题链接样式"></a>设置NexT主题链接样式</h4><p><code>NexT主题</code>链接默认的样式是 <strong>与正文字体一样的墨色</strong> + <strong>下划线</strong>，连加粗都没有，很容易把链接错看成普通文字，因此想调整链接的颜色，来突出链接。<br>首先想到的方法是在<code>source/_data/variables.styl</code>中配置链接使用的颜色变量，来达到改变链接颜色的目的（如果你没有_data目录或者variables.styl文件，则创建它；记得去<code>_config.next.yml</code>文件给<code>custom_file_path</code>模块下的<code>variable</code>解开注释）。<br>在页面检查元素后，发现链接颜色设置是<code>color: var(--link-color)</code>，用了一个叫<code>--link-color</code>的css变量。于是再去node_modules/hexo-theme-next/source/css中搜寻一番，发现<code>_colors.styl</code>中配置了：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--link-color: $link-color;</span><br><span class="line">--link-hover-color: $link-hover-color;</span><br></pre></td></tr></table></figure>
<p>于是我开开心心的去<code>source/_data/variables.styl</code>中设置了<code>$link-color</code>跟<code>$link-hover-color</code>的颜色：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$link-color = pink</span><br><span class="line">$link-hover-color = yellow</span><br></pre></td></tr></table></figure>
<p>保存修改，重新运行hexo server后，看到我的博客所有的链接都变成了粉色，<strong>包括侧边栏！</strong>而我只是希望文章内容中的链接能够突出。<br>此时，想起在<code>_config.next.yml</code>文件的<code>custom_file_path</code>模块下还有一个被注释了的叫<code>style</code>的项。像配置<code>variables.styl</code>文件一样，在<code>source/_data/</code>目录下新建一个<code>styles.styl</code>文件，如果你已经有styles.styl文件了则不用新建；然后在styles.styl文件中加入以下样式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.post-body &#123;</span><br><span class="line">    a:not(.btn) &#123;</span><br><span class="line">        color: dodgerblue;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">        &amp;:hover &#123;</span><br><span class="line">            color: RoyalBlue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>并且去除<code>variables.styl</code>中<code>$link-color</code>跟<code>$link-hover-color</code>的设置。再次运行hexo server；侧边栏的链接样式不变，文章内容中的链接颜色变成dodgerblue了😁</p>
<p>参考： <a target="_blank" rel="noopener" href="https://vonsdite.github.io/posts/13afd8d4.html">https://vonsdite.github.io/posts/13afd8d4.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zhouyuyuyuu.github.io/2021/09/22/excludeChunks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/eeeem.jpeg">
      <meta itemprop="name" content="zhouyuyuyuu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yuu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/22/excludeChunks/" class="post-title-link" itemprop="url">excludeChunks - 搞不懂的webpack</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-22 16:32:01" itemprop="dateCreated datePublished" datetime="2021-09-22T16:32:01+08:00">2021-09-22</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-11-03 16:41:29" itemprop="dateModified" datetime="2021-11-03T16:41:29+08:00">2021-11-03</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/daily-record/" itemprop="url" rel="index"><span itemprop="name">踩坑记录</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>开始前先说明：文章并没有<a target="_blank" rel="noopener" href="https://github.com/jantimon/html-webpack-plugin">excludeChunks</a>相关的解释，仅仅是单纯的踩坑记录，如果你知道导致踩坑的事因，欢迎告诉我📮 <a href="mailto:izhouyi7@gmail.com">我的邮箱</a>。如果想了解相关内容建议去<a target="_blank" rel="noopener" href="https://webpack.docschina.org/concepts/">webpack官网</a>或者<a target="_blank" rel="noopener" href="https://github.com/jantimon/html-webpack-plugin">html-webpack-plugin</a>文档看看。<br/><br>另： 文章中的应用是使用vue全家桶搭建。</p>
<h3 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h3><p>有一天公司里的小姐妹跟我说，他们的多页应用发生了一件奇怪的事情，叫我去围观。事情是这样的：在工具文件utilA.js里新添加了一个方法funcX，并且在多页的其中一个页面pageX中的某个组件引用方法funcX，构建之后在浏览器访问pageX页面，页面一片空白！控制台没有任何报错，看网络面板也成功加载完了index.html，favicon，一连串的js文件。但其实pageX竟然连入口文件main.js都没有执行！</p>
<p>更奇怪的是，把funcX原封不动的<strong>移动</strong>到另一个工具文件utilB.js里头，并且把pageX页面组件中的funcX引用修改为引用utilB.js里的funcX，这时构建之后访问到的pageX页面会正常运行。<br><img src="/images/meme/question.jpeg" alt="avatar"><br>PS: 在开发模式下运行，不管引用utilA.js还是utilB.js中的funcX，都是运行正常。但在生产模式下也就是打包部署后，如果引用了utilA.js文件中的funcX，页面pageX会一片空白。</p>
<h3 id="盲改思路"><a href="#盲改思路" class="headerlink" title="盲改思路"></a>盲改思路</h3><p>首先，页面空白时控制台没有任何报错，且开发模式下运行一切正常，所以推测不是由于funcX运行错误引发问题；其次，开发模式与生产模式运行得到的效果不一致，猜测可能是打包策略不同引起的差异；<br/><br>小tips：页面空白问题只在生产模式下出现，为了方便修改代码后查看运行效果，可以在运行时把运行模式改成生产模式： <code>npx vue-cli-service serve --mode production</code>。打包过程会更慢，但是方便查看生产模式下的效果。</p>
<p>一开始真是毫无头绪！为什么方法声明换了个文件放就可以了呢？！难道是什么偶然引发的奇怪问题？</p>
<ul>
<li>❌ 难道是方法重名或者方法名文件名引发了什么问题？ - 在整个utilA.js文件中搜索方法名，确定方法名没有重名，组件中也不存在重名。并且修改了方法名、文件名之后，问题依然存在；</li>
<li>✅ 如果在utilA.js跟utilB.js中都添加funcX的声明，并且组件引用utilB.js中的funcX会正常运行吗？ - 我的预想是当然可以正常运行，毕竟引用的是utilB.js中的方法。但结果让我大跌眼镜，utilA.js跟utilB.js都加入funcX声明后，即使组件引用的是utilB.js中的funcX依然会导致页面空白！！<br><img src="/images/meme/what.jpeg" alt="avatar"><br>这。。utilA.js不过是加了方法声明的几行代码，而且既没有被引用也不会被执行，怎么就导致页面空白了呢！于是我尝试删掉了utilA.js中的funcX，并且加了一句<code>console.log(&#39;hello world&#39;)</code>，结果竟然一句console.log都会让页面空白！！！我不由得怀疑是不是其他地方出的什么问题，一句console怎么会？于是我把<code>console.log(&#39;hello world&#39;)</code>删掉，页面运行正常了。真的是把自己看呆了😵（<del>这是什么鬼</del>）。</li>
</ul>
<p><b><font size=4 bold>utilA.js文件里即使是添加一行打印语句，也会让pageX页面空白！</font></b>不过这时心里开始有点想法，utilA.js中多出一行代码都会导致页面空白，会不会是单个文件里的代码量达到了某个阈值引起的呢？抱着这个想法，我恢复了我的console并且删掉了原本文件中的一些注释。果然，console有正常执行，并且pageX页面正常运行，不空白了！此时恢复utilA中的funcX，并将组件中的funcX改为引用utilA.js，pageX也可以正常运行（因为utilA.js删掉了很多注释，给funcX留出了空间）。</p>
<h4 id="方法一：调大splitChunks中的minSize"><a href="#方法一：调大splitChunks中的minSize" class="headerlink" title="方法一：调大splitChunks中的minSize"></a>方法一：调大splitChunks中的minSize</h4><p>那为什么单个文件的代码量过多会引发这样的问题呢？首当其冲当然是怀疑webpack配置（虽然不懂webpack这个大家伙，但是可以临时查文档😅 ）。打开项目里的<code>vue.config.js</code>文件，找size相关的配置，只看到一个配置在<code>optimization.splitChunks</code>下的<code>minSize</code>。先去<a target="_blank" rel="noopener" href="https://v4.webpack.js.org/plugins/split-chunks-plugin/">文档</a>看看这个<code>minSize</code>是用来干啥的，文档里<code>minSize</code>描述很简略，但是<code>maxSize</code>有更详细的描述。</p>
<blockquote>
<p>Using maxSize (either globally optimization.splitChunks.maxSize per cache group optimization.splitChunks.cacheGroups[x].maxSize or for the fallback cache group optimization.splitChunks.fallbackCacheGroup.maxSize) tells webpack to try to split chunks bigger than maxSize bytes into smaller parts. Parts will be at least minSize (next to maxSize) in size. The algorithm is deterministic and changes to the modules will only have local impact. So that it is usable when using long term caching and doesn’t require records. maxSize is only a hint and could be violated when modules are bigger than maxSize or splitting would violate minSize.</p>
</blockquote>
<p>大概就是指当文件超过maxSize的时候可能会把文件分割成小块，分割后的小块依然都要满足<code>minSize</code>，那如果分割后小块的size不足<code>minSize</code>呢，也就是分割的话小块会违反<code>minSize</code>这时会如何操作？文档中有提及minSize, maxSize的优先级：</p>
<blockquote>
<p>maxSize takes higher priority than maxInitialRequest/maxAsyncRequests. Actual priority is maxInitialRequest/maxAsyncRequests &lt; maxSize &lt; minSize.</p>
</blockquote>
<p>可以看出来<code>minSize</code>的优先级是更高的，所以猜测如果分割会导致违反<code>minSize</code>的话，优先选择满足<code>minSize</code>而不去分割。带入到问题中，猜测是utilA.js文件在添加了新的代码后满足了分割条件，导致utilA.js文件被分割，以至于出现问题。所以<strong>盲改方法一就是把<code>minSize</code>改的更大些</strong>，让文件分割后的小块达不到<code>minSize</code>，从而不去分割utilA.js文件。在增大配置中的<code>minSize</code>并重新运行后，pageX运行正常。</p>
<h4 id="方法二：去除多页配置中当前页的excludeChunks"><a href="#方法二：去除多页配置中当前页的excludeChunks" class="headerlink" title="方法二：去除多页配置中当前页的excludeChunks"></a>方法二：去除多页配置中当前页的excludeChunks</h4><p>虽然修改<code>minSize</code>的确可以应付眼下的问题，但随着后期utilA.js文件慢慢增大，同样的问题依然会再次出现。而且照理来说，分割文件不会出问题才对，为什么utilA.js文件被分割就会有问题呢？</p>
<p>前文有提到这个应用是一个<strong>多页应用</strong>，页面配置位于项目的<code>vue.config.js</code>文件中的<code>pages</code>配置项（<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#pages">pages配置项</a>可以参考vue-cli文档）。在<code>pages</code>配置中发现pageX页面有一项<code>excludeChunks: [&#39;index&#39;]</code>配置，让人自然而然的联想到：会不会是utilA.js文件的分割会导致pageX中某些重要的模块被放到一个叫index的chunk里，然而这个叫index的chunk并不会被打包到pageX里去，这才引发了问题。</p>
<p>带着这个猜测，先把<code>minSize</code>配置恢复，并把pageX页面中的funcX改为引用自utilA.js文件，此时重新运行，pageX页面一片空白。这时，在<code>vue.config.js</code>配置文件里注释掉pageX页面的<code>excludeChunks</code>配置，再次重新运行，pageX页面恢复正常。</p>
<p>ps: <code>excludeChunks</code>配置项描述可以查看<a target="_blank" rel="noopener" href="https://github.com/jantimon/html-webpack-plugin">html-webpack-plugin文档</a></p>
<p>总而言之，虽然很少遇上webpack相关的问题，不过一旦遇到总是让人摸不着头脑、无从入手，不知道大神们是如何解决webpack这种庞然大物呢[仰望.jpeg]。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhouyuyuyuu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  




  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
